

<div class="card" *ngIf="cart.total_price !== 0">
    <div class="row">
        <div class="col-md-8 cart">
            <div class="title">
                <div class="row">
                    <div class="col">
                        <h4><b>Shopping Cart</b></h4>
                    </div>
                    <div class="col align-self-center text-right text-muted">{{items.length}} Items</div>
                </div>
            </div>
            <div class="row border-top border-bottom">
                <div class="row main align-items-center" *ngFor="let i of items">
                    <div class="col-2"><img class="img-fluid" src="https://images-eu.ssl-images-amazon.com/images/I/51tZRD62i8L._AC_UL604_SR604,400_.jpg"></div>
                    <div class="col">
                        <div class="row" style="font-weight: bold;">{{i.pname}}</div>
                        <div class="row">{{i.category}}</div>
                    </div>
                    <div class="col">{{i.price | currency : "INR"}} </div>
                </div>
            </div>
            
            <div class="back-to-shop"><a (click)="redirect()">&leftarrow;</a><span class="text-muted">Back to shop</span></div>
        </div>
        <div class="col-md-4 summary">
            <div>
                <h5><b>Summary</b></h5>
            </div>
            <hr>
            <div class="row">
                <div class="col" style="padding-left:0;">ITEMS {{items.length}}</div>
                <div class="col text-right"></div>
            </div>
            <form (ngSubmit)="selectAddress()" #addForm="ngForm">
                <p>Delivery-Address</p> 
                <select name="address" [(ngModel)]="address">
                    <!-- address options -->
                    <option class="text-muted" *ngFor="let d of addresses" [ngValue]="d" >{{d.houseNo}},{{d.street}},{{d.city}},{{d.state}},{{d.pincode}}</option>
                </select>
                <button class="btn" type="submit" style="font-size: 15px;">Apply Address</button>
            </form>
            <form (ngSubmit)="selectCoupon()" #addForm="ngForm">
                <p>Coupon-Code</p> 
                <select name="coupon" [(ngModel)]="coupon">
                    <option class="text-muted" *ngFor="let c of coupons" [ngValue]="c">{{c.cname}} - {{c.discount}}% OFF</option>
                </select>
                <button class="btn" type="submit" style="font-size: 15px;">Apply Coupon</button>
            </form>
            <div class="row" style="border-top: 1px solid rgba(0,0,0,.1); padding: 2vh 0;">
                <div class="col">TOTAL PRICE</div>
                <div class="col text-right">{{cart.total_price | currency:"INR"}}</div>
            </div> 
            <div class="row" style="border-top: 1px solid rgba(0,0,0,.1); padding: 2vh 0;">
                <div class="col">Discounted PRICE</div>
                <div class="col text-right">{{discountedprice | currency:"INR"}}</div>
            </div>
            <button class="btn" (click)="checkout()" style="font-size: 15px;">CHECKOUT</button>
        </div>
    </div>
</div>


<div *ngIf="cart.total_price === 0">
    <h1 style="margin: 200px 100px 200px 100px; text-align:center">You have nothing in your cart to checkout...</h1>
</div> 
